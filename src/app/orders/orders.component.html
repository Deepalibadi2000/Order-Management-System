<h2 class="center ">Order Management System</h2>

<div>
    <div class="container mt-4">
                <div class=" row float-right">
                    <button class="btn btn-outline-primary rounded-0 mt-2 float-right mb-3 ml-1" (click)="addOrders()">
                        <i class="fa fa-plus-circle"></i>Add New Order
                    </button>

            </div>
        </div>
    </div>
    <!--<div class=" float-right ">
        <button class="btn btn-outline-primary rounded-0" (click)="addOrders()">
            <i class="fa fa-add"></i>Add New Order
        </button>
    </div>-->
    <div class="container mt-3">
        <table border="1" class="table table-striped row-border hover m-auto">
            <thead style="background-color:lightslategrey">
                <tr>
                    <th>S.No</th>
                    <th>Order No</th>
                    <th>Due Date</th>
                    <th>Customer Name</th>
                    <th>Customer Address</th>
                    <th>Phone No.</th>
                    <th>Order Total</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let order of orders">
                    <td>{{orders.indexOf(order) + 1}}</td>
                    <td>{{order.order_no}}</td>
                    <td>{{order.due_date}}</td>
                    <td>{{order.customer_name}}</td>
                    <td>{{order.customer_address}}</td>
                    <td>{{order.ph_no}}</td>
                    <td>{{order.order_total}}</td>
                    <td>
                        <button class="btn btn-outline-success pr-2  rounded-0" (click)="editOrders(order)">
                            <i class="fa fa-edit"></i>Edit
                        </button>
                        <button class="btn btn-outline-danger rounded-0 " (click)="deleteOrder(order)">
                            <i class="fa fa-trash"></i>Delete
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
<ng-template #ordersModal let-close="close">
    <div class="modal-header">
        <h5 class="modal-title text-center">
            Add New Order
        </h5>
        <button type="button" class="close" (click)="closeModal()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div>
            <div class="row mx-4  mb-3 ">
                <label for="customer_name" class="col-sm-4 mt-2"><b>Customer Name : </b></label>
                <div class="col-sm-8">
                    <input type="text" id="customer_name" name="customer_name" required class="form-control"
                           [(ngModel)]="customer_name"
                           placeholder="Enter Customer Name">
                </div>
            </div>


            <div class="row mx-4 mb-3">
                <label for="customer_name" class="col-sm-4 mt-2"><b>Customer Address : </b></label>
                <div class="col-sm-8">
                    <textarea type="text" id="customer_address" name="customer_name" required class="form-control"
                              [(ngModel)]="customer_address"
                              placeholder="Enter Customer Address">
                        </textarea>
                </div>
            </div>
            <div class="row mx-4 mb-3">
                <label for="customer_name" class="col-sm-4 mt-2"><b>Due Date : </b></label>
                <div class="col-sm-8">
                    <input type="date" id="due_date" name="customer_name" required class="form-control"
                           [(ngModel)]="due_date"
                           placeholder="Enter Due Date">
                </div>
            </div>
            <div class="row mx-4 mb-3">
                <label for="order_total" class="col-sm-4 mt-2"><b>Order Total : </b></label>
                <div class="col-sm-8">
                    <input type="number" id="order_total" name="customer_name" required class="form-control"
                           [(ngModel)]="order_total"
                           placeholder="Enter Order Total">
                </div>
            </div>
            <div class="row mx-4 mb-3 ">
                <label for="ph_no" class="col-sm-4 mt-2"><b>Ph No : </b></label>
                <div class="col-sm-8">
                    <input type="text" id="ph_no" name="phone_number" required class="form-control"
                           [(ngModel)]="ph_no"
                           placeholder="Enter Phone Number">
                </div>
            </div>

        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-secondary rounded-0" (click)="closeModal()">Close</button>

        <button *ngIf="addOrderFlag" class="btn btn-outline-success rounded-0" (click)="submitOrder()">
            Add New Order

        </button>

        <button *ngIf="!addOrderFlag" class="btn btn-outline-success rounded-0" (click)="editOrderData()">
            Edit Order

        </button>


    </div>
</ng-template>
